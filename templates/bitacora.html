
<br>
<div class="row align-items-start g-2">
  <div class="col-md-4">
    <div>
      <form ng-submit="guardarBitacora(bitacora)" id="frmBitacora" class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalBitacoraLabel">Registrar Nueva Bit谩cora</h5>
        </div>
        <div class="modal-body">
          <!-- SECCIN 1: FECHA Y HORARIO -->
          <div class="mb-3">
            <label class="form-label"><strong> Fecha y Horario</strong></label>
          </div>
          <div class="mb-3">
            <label for="fechaSemana" class="form-label">Fecha por Semana</label>
            <input required type="week" class="form-control" ng-model="bitacora.fechaSemana" id="fechaSemana" name="fechaSemana">
          </div>
          <div class="mb-3">
            <label for="horaInicio" class="form-label">Hora Inicio</label>
            <input required type="time" class="form-control" ng-model="bitacora.horaInicio" id="horaInicio" name="horaInicio">
          </div>
          <div class="mb-3">
            <label for="horaFin" class="form-label">Hora Fin</label>
            <input required type="time" class="form-control" ng-model="bitacora.horaFin" id="horaFin" name="horaFin">
          </div>

          <!-- SECCIN 2: REGISTRO DE SESIN -->
          <div class="mb-3 mt-4">
            <label class="form-label"><strong> Registro de Sesi贸n</strong></label>
          </div>
          <div class="mb-3">
            <label for="drenajeInicial" class="form-label">Drenaje Inicial (mL)</label>
            <input required type="number" step="0.01" class="form-control" ng-model="bitacora.drenajeInicial" id="drenajeInicial" name="drenajeInicial" placeholder="0.00">
          </div>
          <div class="mb-3">
            <label for="ufTotal" class="form-label">UF Total (mL)</label>
            <input required type="number" step="0.01" class="form-control" ng-model="bitacora.ufTotal" id="ufTotal" name="ufTotal" placeholder="0.00">
          </div>
          <div class="mb-3">
            <label for="tiempoMedioPerm" class="form-label">T. Medio Perm. (minutos)</label>
            <input required type="number" step="0.01" class="form-control" ng-model="bitacora.tiempoMedioPerm" id="tiempoMedioPerm" name="tiempoMedioPerm" placeholder="0.00">
          </div>

          <!-- SECCIN 3: MEDICIONES Y REGISTROS CLNICOS -->
          <div class="mb-3 mt-4">
            <label class="form-label"><strong> Mediciones y Registros Cl铆nicos</strong></label>
          </div>
          <div class="mb-3">
            <label for="liquidoIngerido" class="form-label">Cantidad de L铆quido Ingerido en 24 hrs (mL)</label>
            <input required type="number" step="0.01" class="form-control" ng-model="bitacora.liquidoIngerido" id="liquidoIngerido" name="liquidoIngerido" placeholder="0.00">
          </div>
          <div class="mb-3">
            <label for="cantidadOrina" class="form-label">Cantidad de Orina 24 hrs (mL)</label>
            <input required type="number" step="0.01" class="form-control" ng-model="bitacora.cantidadOrina" id="cantidadOrina" name="cantidadOrina" placeholder="0.00">
          </div>
          <div class="mb-3">
            <label for="glucosa" class="form-label">Medici贸n de Glucosa (mg/dL)</label>
            <input required type="number" step="0.01" class="form-control" ng-model="bitacora.glucosa" id="glucosa" name="glucosa" placeholder="0.00">
          </div>
          <div class="mb-3">
            <label for="presionArterial" class="form-label">Presi贸n Arterial (mmHg)</label>
            <input required type="text" class="form-control" ng-model="bitacora.presionArterial" id="presionArterial" name="presionArterial" placeholder="ej: 120/80">
          </div>
        </div>
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" ng-click="cancelar()">Cancelar</button>
          <button type="submit" class="btn btn-primary">Registrar</button>
        </div>
      </form>
    </div>
  </div>
  <div class="col-1"></div>

  <div class="col">
    <form ng-submit="buscar(fechaBusqueda)" class="mb-4" novalidate autocomplete="off">
      <div class="row mb-3">
        <div class="col-md-8">
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-search"></i></span>
            <input type="week" ng-model="fechaBusqueda" class="form-control" placeholder="Buscar por semana...">
          </div>
        </div>
        <div class="col-md-2">
          <button type="submit" class="btn btn-primary w-100">
            <i class="bi bi-search me-2"></i>Buscar
          </button>
        </div>
      </div>
    </form>

    <!-- Tabla de resultados -->
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Fecha Semana</th>
            <th>Hora Inicio</th>
            <th>Hora Fin</th>
            <th>Drenaje Inicial</th>
            <th>UF Total</th>
            <th>T. Medio Perm.</th>
            <th>L铆quido Ingerido</th>
            <th>Orina 24hrs</th>
            <th>Glucosa</th>
            <th>Presi贸n Arterial</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="registro in registros" ng-if="registros.length > 0">
            <td>{{ registro.fechaSemana }}</td>
            <td>{{ registro.horaInicio }}</td>
            <td>{{ registro.horaFin }}</td>
            <td>{{ registro.drenajeInicial }}</td>
            <td>{{ registro.ufTotal }}</td>
            <td>{{ registro.tiempoMedioPerm }}</td>
            <td>{{ registro.liquidoIngerido }}</td>
            <td>{{ registro.cantidadOrina }}</td>
            <td>{{ registro.glucosa }}</td>
            <td>{{ registro.presionArterial }}</td>
            <td>
              <button type="button" class="btn btn-sm btn-warning" ng-click="editar(registro)">
                <i class="bi bi-pencil"></i>
              </button>
              <button type="button" class="btn btn-sm btn-danger" ng-click="eliminar(registro.id)">
                <i class="bi bi-trash"></i>
              </button>
            </td>
          </tr>
          <tr ng-if="registros.length === 0">
            <td colspan="11" class="text-center text-muted">No hay registros disponibles</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
